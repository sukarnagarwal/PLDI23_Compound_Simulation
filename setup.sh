#!/bin/bash
NCORES=`nproc`

#######################################################################################################
#			Building GEM-5
#######################################################################################################
echo "========================================================="
echo "Building Gem-5 with Original Files"
echo "========================================================="
cd gem5
scons -sQ -j$NCORES build/GCN3_X86/gem5.opt
cd ..




#######################################################################################################
#			Building CPU Only Litmus Test
#######################################################################################################
echo "========================================================="
echo "Building CPU only Litmus Test"
echo "========================================================="
cd gem5-resources/gpu/CPU_Litmus_test
./buildall.sh
cd ../../../


#######################################################################################################
#			Building GPU Only Litmus Test
#######################################################################################################
echo "========================================================="
echo "Building GPU only Litmus Test"
echo "========================================================="
cd gem5-resources/gpu/GPU_Litmus_test 
./buildall.sh
cd ../../../

#######################################################################################################
#			Building Heterogeneous Litmus Test with SWMR
#######################################################################################################
echo "========================================================="
echo "Building Compound Litmus Test"
echo "========================================================="
cd gem5-resources/gpu/Heterogenous_Litmus_Test
./buildall_hetero.sh
cd ../../../

#######################################################################################################
#			Building Heterogeneous Litmus Test with No SWMR
#######################################################################################################
echo "========================================================="
echo "Building Compound Litmus Test with No SWMR"
echo "========================================================="
cd gem5-resources/gpu/Heterogenous_Litmus_Test/SWMR_Voilation
./buildall_SWMR_voilation.sh
cd ../../../../




